<main>
  <div class="topnav">
    <div class="search-container">
      <form action="" autocomplete="off">
        <input type="text" [(ngModel)]="searchText" autofocus="autofocus" placeholder="Пошук подій" name="search">
        <button type="submit"><img class="icon" src="./assets/images/search.svg" alt="" (click)="search()" /></button>
      </form>
    </div>
  </div>

  <div class="caption">Популярні</div>
  <a href="/home">Повернутися на головну</a>
  <div class="content-container">
    <div class="event-container" *ngFor="let event of events">
      <a href="one-event">
        <img src="{{event.event_photo}}"
          onerror="this.src='./assets/images/noimage.png'"
          alt="">
      </a>
      <a href="one-event">
        <div class="event-name">{{event.event_name}}</div>
      </a>
      <div class="datetime">{{event.event_datetime_begin | date:'EEE, MMM d, HH:mm'}} -
        {{event.event_datetime_end | date:'EEE, MMM d, HH:mm'}}</div>

      <div class="event-description">
        {{event.event_description}}
      </div>
    </div>
  </div>

  <div *ngIf="page_status == 'load_success'" class="pagination-container">
    <div class="pagination">
      <a *ngIf="has_prev" (click)="fetchPrevious()">Попередня</a>
      <a *ngIf="has_prev" (click)="fetchPrevious()">{{previous_page_num}}</a>
      <a class="active">{{page_num}}</a>
      <a *ngIf="has_next" (click)="fetchNext()">{{next_page_num}}</a>
      <a *ngIf="has_next" (click)="fetchNext()">Наступна</a>
    </div>
  </div>

  <div *ngIf="page_status !== 'load_success'" class="empty-page-error">
    <img *ngIf="page_status == 'loading'" src="assets/images/loadanimation.svg" alt="">
    <p *ngIf="page_status == 'load_failed'">This page is empty</p>
  </div>

</main>
